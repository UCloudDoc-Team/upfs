# FAQ

### 文件存储的使用有哪些限制吗？
文件存储对文件系统容量、文件最大长度、协议版本等方面有一定限制，请您参考『产品限制』章节获取详细信息。

### 文件存储支持哪些访问协议?
UPFS公测期目前只支持POSIX协议。

### 文件存储是否允许跨地域访问？
UPFS不支持跨地域访问。

### 文件存储是否允许跨项目组访问？
UPFS公测期不支持跨项目组访问。

### 单个文件系统允许访问的主机客户端数量是否受限？
客户端主机通过文件系统对应的挂载点进行访问，由于挂载点限制的是允许访问的 VPC 而不是具体主机 IP，只要您合理规划 VPC 内各子网大小，VPC 内任意数量的主机都允许访问。虽然我们对挂载点的数目有一定的限制(详细请参考『产品限制』章节)，但对挂载点允许访问的主机数目是不限的。

### 物理云和托管云主机可以访问文件存储吗？
公测期暂不支持物理云和托管云主机访问文件存储

### 如何修改 NFS 请求并发数？
NFS 客户端会对同时允许发起的请求个数进行限制，在众多发行版内核中该默认值通常为 2，由于并发较低会导致客户端能够达到的吞吐较低。为此，单客户端为了提升性能建议修改此参数。

#### 步骤一、安装 NFS 客户端
安装 NFS 客户端的详细步骤请参考 『操作指南』章节中的『挂载文件系统』部分。

#### 步骤二、修改系统参数
以 root 权限在命令行执行以下命令(该操作只需在首次安装 NFS 客户端完成后执行一次即可，后续不需多次执行)：

    echo "options sunrpc tcp_slot_table_entries=128" >> /etc/modprobe.d/sunrpc.conf

    echo "options sunrpc tcp_max_slot_table_entries=128" >> /etc/modprobe.d/sunrpc.conf

#### 步骤三、挂载文件系统
挂载文件系统的详细步骤请参考 『操作指南』章节中的『挂载文件系统』部分。

#### 步骤四、再次修改系统参数
通过执行以下命令修改相关系统参数：

    sysctl -w sunrpc.tcp_slot_table_entries=128

完成后卸载文件系统并重新挂载，之后执行如下命令查看系统参数值，如果返回值为 128 则表示设置成功。

    cat /proc/sys/sunrpc/tcp_slot_table_entries

### 文件系统删除前需要做特殊操作吗？
是的，在文件系统被删除前，请首先确保该文件系统内数据不会再被使用，目前文件存储不提供数据恢复功能，删除操作请谨慎。在您删除文件系统前请确保所有使用该文件系统的主机上都对其做了卸载操作，否则在主机上残留的已删除文件系统实例会影响主机运行。

